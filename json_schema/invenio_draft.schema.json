{
  "$id": "invenio_draft.schema.json",

  "title": "InvenioRDM draft API schema",
  "$comment": "Define record-draft API payload ",
  "$example": "{'title': 'MapX from Ball', 'creators':[{'person_or_org': {'name': 'Acne', 'type': 'organizational'}}], 'publication_date': 2022, 'resource_type': 'dataset'}",

  "type" : "object",

  "properties": {
    "title"      : { "type" : "string" },
    "creators"    : { "type" : "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "person_or_org": {
                            "$ref" : "#/$defs/person_or_org"
                          }
                        }
                      }
                    },
    "resource_type"   : { "type" : "string" },
    "publication_date"  : { "type" : "number" },
    "description": { "type": "string" }
  },

  "required" : [
    "title",
    "creators",
    "resource_type",
    "publication_date"
  ],

  "$defs": {
      "person_or_org": {
          "oneOf": [
              { "$ref" : "invenio.defs.schema.json#/definitions/person" },
              { "$ref" : "invenio.defs.schema.json#/definitions/org" }
          ]
    }
  }

}
